# ⛔ DEPRECATED - DO NOT DEPLOY ⛔
# This worker requires KV namespace which is not configured.
# KV namespace is commented out below (lines 17-20).
# Most endpoints return 503: "KV storage not configured"
#
# Use the queue-based system instead:
#   - coinswarm-historical-import (Python) - pyswarm/wrangler_historical_import.toml
#   - historical-data-queue-consumer - wrangler-historical-queue-consumer.toml
#   - historical-data-queue-producer - wrangler-historical-queue-producer.toml
#
# This file is kept for reference only.
# GitHub Actions will DELETE this worker if it exists.

# Wrangler configuration for Historical Data Worker (DEPRECATED - KV not configured)

name = "coinswarm-historical-data"
main = "historical-data-worker.ts"
compatibility_date = "2024-01-01"

# KV Namespace for historical price data
# TODO: Create KV namespace and uncomment after getting ID from GitHub Actions
# For now, worker will fetch from Binance directly without caching
# [[kv_namespaces]]
# binding = "HISTORICAL_PRICES"
# id = "TO_BE_POPULATED_AFTER_CREATION"

# Environment variables
[vars]
# Binance.US API endpoint (US-compliant exchange)
BINANCE_API_URL = "https://api.binance.us"

# API Keys (Secrets - set via GitHub Secrets or `wrangler secret put`)
# DO NOT commit actual API keys to this file!
#
# To set secrets locally:
#   wrangler secret put COINGECKO_API_KEY --config wrangler-historical.toml
#   wrangler secret put CRYPTOCOMPARE_API_KEY --config wrangler-historical.toml
#
# To set via GitHub Actions, add these to repository secrets:
#   COINGECKO_API_KEY - CoinGecko Demo/Pro API key (get from https://www.coingecko.com/en/api)
#   CRYPTOCOMPARE_API_KEY - CryptoCompare API key (get from https://min-api.cryptocompare.com/)
#
# These will be automatically available as env variables if set as GitHub secrets
